<h3 class="text-primary">Expense Management</h3>
<br/><br/>
<div class="row">
  <div class="col-xs-12 col-md-6 col-md-offset-3">
    <div class="alert alert-danger" *ngIf="error">
      <p>{{error}}</p>
    </div>
    <div *ngIf="isLoading" style="text-align: center;">
      <app-spinner></app-spinner>
    </div>
    <form #expForm="ngForm" (ngSubmit)="onSubmit(expForm)" *ngIf="!isLoading">
        
      <!--<div class="form-group" >
        <label for="category">Category</label>
        <input type="text" id="category"
        ngModel
        name="category"
        required
        class="form-control">
      </div> -->
      <div class="form-group">
        <label for="category">Category</label>
        <select id="category" name="category" ngModel (change)="onCategoryChange()">
            <option *ngFor="let cat of categoryList" [value]="cat">{{cat}}</option>
            <option value="Other">Other</option>
        </select>
      </div> 
      <div class="form-group" *ngIf="catetoryOtherSelected">
        <label for="custcategory">Add custom category if not present in the above list</label>
        <input type="text" id="custcategory"
         name="custcategory"
        class="form-control">
      </div> 
      <div class="form-group" >
        <label for="dcscription">Description</label>
        <input type="text" id="description"
        ngModel
        name="description"
        class="form-control">
      </div>  
      <div class="form-group">
        <label for="detail">Detail</label>
        <textarea id="detail" name="detail"
        ngModel
        class="form-control"></textarea>
      </div>
      <div class="form-group" >
          <label for="amount">Amount</label>
          <input type="number" id="amount" pattern="[0-9]+([\.,][0-9][0-9])?" step="0.01" 
          ngModel
          name="amount"
          required
          
          class="form-control">
        </div>
        <div class="form-group" >
          <label for="expenseDate">Expense Date</label>
          <input type="date" id="expenseDate"
          ngModel
          required
          name="expenseDate"
          class="form-control">
        </div>  
        <input type="hidden"
        id="id"
        name="id"
        ngModel
        />
        <input type="hidden"
        id="user"
        name="user"
        ngModel
        />
        <input type="hidden"
        id="proof"
        name="proof"
        ngModel
        />

        <input type="hidden"
        id="createdDate"
        name="createdDate"
        ngModel
        />

        <input type="hidden"
        id="updatedDate"
        name="updatedDate"
        ngModel
        />

        <div>
          <button
          type="submit"
          [disabled]="!expForm.valid"
          class="btn btn-primary">{{saveMode? 'Save' : 'Update'}}</button>|
          <button class="btn" (click)="clearForm()">Cancel</button>
          

        </div>
    </form>
  </div>
</div>
<hr/>
<app-expense-list></app-expense-list>