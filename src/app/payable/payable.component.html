<h3 class="text-primary">Payable Management</h3>
<br/><br/>

<div class="row">
  <div class="col-xs-12 col-md-6 col-md-offset-3">
    <div class="alert alert-danger" *ngIf="error">
      <p>{{error}}</p>
    </div>
    <div *ngIf="isLoading" style="text-align: center;">
      <app-spinner></app-spinner>
    </div>
    <form #payForm="ngForm" (ngSubmit)="onSubmit(payForm)" *ngIf="!isLoading">

      <div class="form-group">
        <label for="payTo">Pay To</label>
        <select id="payTo" name="payTo" ngModel (change)="onPayToChange()" class="form-control">
            <option *ngFor="let payTo of payToList" [value]="payTo">{{payTo}}</option>
            <option value="Other">Other</option>
        </select>
      </div> 
      <div class="form-group" *ngIf="payToOtherSelected">
        <label for="custpayto">Add new user if not present in the above list</label>
        <input type="text" id="custpayto"
         name="custpayto"
        class="form-control">
      </div> 
      <div class="form-group" >
        <label for="dcscription">Description</label>
        <input type="text" id="description"
        ngModel
        name="description"
        class="form-control">
      </div>  
      <div class="form-group">
        <label for="detail">Detail</label>
        <textarea id="detail" name="detail"
        ngModel
        class="form-control"></textarea>
      </div>
      <div class="form-group" >
          <label for="amount">Amount</label>
          <input type="number" id="amount" pattern="[0-9]+([\.,][0-9][0-9])?" step="0.01" 
          ngModel
          name="amount"
          required
          
          class="form-control">
        </div>
        <div class="form-group" >
          <label for="paymentDate">Payment Date</label>
          <input type="date" id="paymentDate"
          ngModel
          required
          name="paymentDate"
          class="form-control">
        </div>  
        <div class="form-group" >
          <label for="status">Payment Status</label>
          <select id="status" name="status" ngModel class="form-control" required>
            <option value="PENDING">PENDING</option>
            <option value="PAID">PAID</option>
        </select>
        </div>  

        <input type="hidden"
        id="id"
        name="id"
        ngModel
        />
        <input type="hidden"
        id="user"
        name="user"
        ngModel
        />
        

        <input type="hidden"
        id="createdDate"
        name="createdDate"
        ngModel
        />

        <input type="hidden"
        id="updatedDate"
        name="updatedDate"
        ngModel
        />
        
        <!--<input type="hidden"
        id="status"
        name="status"
        ngModel
        />-->


        <div>
          <button
          type="submit"
          [disabled]="!payForm.valid"
          class="btn btn-primary">{{saveMode? 'Save' : 'Update'}}</button>|
          <button class="btn" (click)="clearForm()">Cancel</button>
          

        </div>
    </form>
  </div>
</div>
<hr/>
<app-payable-list></app-payable-list>